- [2024/7/6](#202476)
  - [ç›®çš„](#ç›®çš„)
  - [é€²æ—](#é€²æ—)
  - [æŠ€è¡“é¸å®š](#æŠ€è¡“é¸å®š)
    - [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰](#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
    - [ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰](#ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)
    - [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)
    - [ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†](#ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†)
  - [è©°ã¾ã£ãŸã¨ã“ã‚](#è©°ã¾ã£ãŸã¨ã“ã‚)
    - [yarnã‚¨ãƒ©ãƒ¼](#yarnã‚¨ãƒ©ãƒ¼)
    - [MySQLã®è­¦å‘Š](#mysqlã®è­¦å‘Š)
      - [è­¦å‘Š1](#è­¦å‘Š1)
      - [è­¦å‘Š2](#è­¦å‘Š2)
      - [è­¦å‘Š3](#è­¦å‘Š3)
      - [è­¦å‘Š4](#è­¦å‘Š4)
- [2024/7/7](#202477)
  - [é€²æ—](#é€²æ—-1)
    - [èªè¨¼æ©Ÿèƒ½](#èªè¨¼æ©Ÿèƒ½)
      - [Backend](#backend)
      - [frontend](#frontend)
      - [GitHub](#github)
  - [è©°ã¾ã£ãŸã¨ã“ã‚](#è©°ã¾ã£ãŸã¨ã“ã‚-1)
    - [ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ãŒã§ããªã„å ´åˆã®åŽŸå› ](#ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ãŒã§ããªã„å ´åˆã®åŽŸå› )
- [2024/7/8](#202478)
  - [é€²æ—](#é€²æ—-2)
    - [ã‚³ãƒ¼ãƒ‰ä¿®æ­£](#ã‚³ãƒ¼ãƒ‰ä¿®æ­£)
      - [backend](#backend-1)
    - [UI/UXä¿®æ­£](#uiuxä¿®æ­£)
  - [ç”»é¢è¨­è¨ˆ](#ç”»é¢è¨­è¨ˆ)
    - [èªè¨¼é–¢é€£ç”»é¢](#èªè¨¼é–¢é€£ç”»é¢)
    - [å€‹äººé–¢é€£ç”»é¢](#å€‹äººé–¢é€£ç”»é¢)
    - [å…±æœ‰ç”¨ç”»é¢](#å…±æœ‰ç”¨ç”»é¢)
    - [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
  
# 2024/7/6

## ç›®çš„

- ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒªã®ä¸Šä½äº’æ›
  - ã‚¿ã‚¹ã‚¯ã‚’æŠ•ç¨¿
  - ãã®ã‚¿ã‚¹ã‚¯ã‚’é”æˆã™ã‚‹ã¾ã§ã«å¿…è¦ãªãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨˜å…¥
  - è‡ªåˆ†ã§ã‚‚è¨˜å…¥ã§ãã‚‹ã—ã€ç”ŸæˆAIã«è¨˜å…¥ã•ã›ã‚‹ã“ã¨ã‚‚å¯èƒ½
  - ãã®ã‚¿ã‚¹ã‚¯ã‚’ã©ã®ãã‚‰ã„é€²ã‚ãŸã‹é€²æ—ã‚’ç™»éŒ²
  - é”æˆã—ãŸéš›ã«å€‹äººã§æˆæžœç‰©ã‚’æŠ•ç¨¿ã™ã‚‹ã“ã¨ãŒã§ãã‚‹
  - ä»–ã®ãƒ¦ãƒ¼ã‚¶ã«ã‚‚è¦‹ã‚Œã‚‹ã‚ˆã†ã«æˆæžœç‰©ã‚’æŠ•ç¨¿ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹

## é€²æ—
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ç¹‹ã’ã€Dockeræ§‹ç¯‰ã—ãŸã€‚
- æ¬¡ã¯ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’ä½œæˆã—ãŸã„ã€‚

## æŠ€è¡“é¸å®š

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React
- **è¨€èªž**: TypeScript
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒžãƒãƒ¼ã‚¸ãƒ£**: Yarn

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **è¨€èªž**: Go
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Gorilla Mux

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- **ç¨®é¡ž**: MySQL

### ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†

- **ãƒ„ãƒ¼ãƒ«**: Docker, Docker Compose
- CI/CDã§GitHub Actionsã‚’åˆ©ç”¨ã—ãŸã„
- ã‚†ãã‚†ãã¯AWS EC2ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„

## è©°ã¾ã£ãŸã¨ã“ã‚
### yarnã‚¨ãƒ©ãƒ¼

- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

```bash
yarn add axios
yarn add v1.22.21
[1/5] ðŸ”  Validating package.json...
error frontend@0.1.0: The engine "node" is incompatible with this module. Expected version ">=14.15.0 <=18.x". Got "19.8.1"
error Found incompatible module.
info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.
```

- åŽŸå› : Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã‹ã£ãŸã€‚
- å¯¾ç­–: VSCodeã‚’å†èµ·å‹•ã—ã¦è§£æ±ºã€‚

### MySQLã®è­¦å‘Š
#### è­¦å‘Š1
```bash
The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.
```
**å¯¾ç­–**
- my.cnf ãƒ•ã‚¡ã‚¤ãƒ«ã« skip-host-cache ã®ä»£ã‚ã‚Šã« host_cache_size=0 ã‚’è¨­å®šã€‚

#### è­¦å‘Š2
```bash
Setting lower_case_table_names=2 because file system for /var/lib/mysql/ is case insensitive
```

**å¯¾ç­–**
- ã“ã®è­¦å‘Šã¯æƒ…å ±ã¨ã—ã¦ã®ã¿èªè­˜ã—ã€ç‰¹ã«å¯¾å¿œã¯ä¸è¦ã€‚

#### è­¦å‘Š3
```bash
CA certificate ca.pem is self signed.
```

**å¯¾ç­–**
- è‡ªå·±ç½²åè¨¼æ˜Žæ›¸ã‚’é–‹ç™ºç’°å¢ƒã§ä½¿ç”¨ã™ã‚‹ã®ã¯å•é¡Œãªã„ãŒã€æœ¬ç•ªç’°å¢ƒã§ã¯CAç½²åã®è¨¼æ˜Žæ›¸ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¤œè¨Žã€‚

#### è­¦å‘Š4
```bash
Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
```

**å¯¾ç­–**
- my.cnf ãƒ•ã‚¡ã‚¤ãƒ«ã§ --pid-file ã®ãƒ‘ã‚¹ã‚’ /var/run/mysqld/mysqld.pid ã«å¤‰æ›´ã€‚

ä¿®æ­£å¾Œã® my.cnf ãƒ•ã‚¡ã‚¤ãƒ«:
```my.cnf
[mysqld]
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
skip-host-cache
host_cache_size=0
pid-file = /var/run/mysqld/mysqld.pid

[client]
default-character-set=utf8mb4
```

# 2024/7/7
## é€²æ—
### èªè¨¼æ©Ÿèƒ½
#### Backend
- `register.go`: æ–°è¦ç™»éŒ²ç”¨ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é€£æº
  ```bash
  curl -X POST http://localhost:8000/register -d '{
                "username": "wa",
                "email": "wa@example.com",
                "password_hash": "wa"
            }' -H "Content-Type: application/json"
  ```
- `login.go`: ãƒ­ã‚°ã‚¤ãƒ³ç”¨ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é€£æº
  ```bash
  curl -v -X POST http://localhost:8000/login -d '{
                "username": "wa",
                "password": "wa"
            }' -H "Content-Type: application/json"
  ```
- `delete_user.go`: é€€ä¼šç”¨ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é€£æº
  ```bash
  curl -X POST http://localhost:8000/delete -d '{
             "email": "wa@example.com"
         }' -H "Content-Type: application/json"
  ```
- `main.go`: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŽ¥ç¶šãƒ»ãƒãƒ¼ãƒˆãƒ»CORS
#### frontend
**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®é€£æº**
- `Register.tsx`: 3000/registerã‹ã‚‰æ–°è¦ç™»éŒ²å¯èƒ½ã«ã—ãŸ
- `Login.tsx`: 3000/loginã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½ã«ã—ãŸ
- `DeteteAccount.tsx`: 3000/deleteã‹ã‚‰é€€ä¼šã§ãã‚‹ã‚ˆã†ã«ã—ãŸ
  - ã—ã‹ã—emailã‚’ä½¿ã£ã¦é€€ä¼šã—ã¦ã„ã‚‹ãŸã‚èªè¨¼ãƒ‡ãƒ¼ã‚¿ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦é€€ä¼šã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„

**ç”»é¢ç§»å‹•**
- èªè¨¼å‰ã¯/Homeã«ã¯ç§»å‹•ã§ããªã„
- èªè¨¼å¾Œã¯å¿…ãš/Registerã¨/loginã«ã¯ç§»å‹•ã§ããªã„

#### GitHub
ISSUEã‚’ä½¿ã£ã¦ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€Templateã‚’ä½œæˆã—ãŸ

## è©°ã¾ã£ãŸã¨ã“ã‚
### ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ãŒã§ããªã„å ´åˆã®åŽŸå› 

```bash
backend-1   | 2024/07/07 02:57:12 Error saving user: dial tcp: lookup db on 127.0.0.11:53: no such host
```
**åŽŸå› **
- MySQLã®ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•ãŒçµ‚ã‚ã‚‹å‰ã«ã€GoãŒDBã‚³ãƒ³ãƒ†ãƒŠæŽ¥ç¶šã«è¡Œã£ã¦ã—ã¾ã£ã¦ã„ãŸãŸã‚ã€‚
**è©³ç´°**
- dbã®ã‚³ãƒ³ãƒ†ãƒŠã«depends_onã‚„linkså±žæ€§ã‚’æ›¸ã„ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€goã®ã‚³ãƒ³ãƒ†ãƒŠã¯dbã‚³ãƒ³ãƒ†ãƒŠãŒå®Œå…¨ã«æº–å‚™ãŒã§ãã‚‹ã®ã‚’å¾…ãŸãšã«èµ·å‹•ã—ã¦ã—ã¾ã†(Dockerã¯ãã“ã¾ã§ã®åˆ¶å¾¡ã‚’ã§ããªã„)ã€‚ã‚‰ã—ã„

**å¯¾å¿œç­–**
SupervisorçµŒç”±ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ã€‚
Supervisorã‚’ä½¿ã†ã¨ã€DBã‚³ãƒ³ãƒ†ãƒŠã«æŽ¥ç¶šã§ããªã„ã›ã„ã§Goã®ã‚³ãƒ³ãƒ†ãƒŠãŒè½ã¡ã¦ã‚‚ã€ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–ã«ã‚ˆã£ã¦ã¾ãŸå†èµ·å‹•ã§ãã‚‹ãŸã‚ã€‚

å‚è€ƒè¨˜äº‹: [ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ãŒã§ããªã„å ´åˆã®åŽŸå› ã«ã¤ã„ã¦](https://qiita.com/satofujino/items/cbfc0dcca36f48bd17d3)

# 2024/7/8
## é€²æ—
### ã‚³ãƒ¼ãƒ‰ä¿®æ­£
#### backend
- `main.go`ã‚’åˆ†å‰²ã—ãŸ
  - `db/database.go`: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŽ¥ç¶š
  - `router/router.go`: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
### UI/UXä¿®æ­£
- `/delete`ã¯ã„ã¤ã‹ã‚„ã‚‹ã€‚ä»Šã¯ã¾ã ã‚„ã‚‹ã¤ã‚‚ã‚Šãªã—
- `/`, `/signin`, `/signup`, `/logout`ã®UIã‚’ä¿®æ­£

## ç”»é¢è¨­è¨ˆ
### èªè¨¼é–¢é€£ç”»é¢
1. **ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢**
   - ãƒ¦ãƒ¼ã‚¶åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
   - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒªã‚»ãƒƒãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³

2. **æ–°è¦ç™»éŒ²ç”»é¢**
   - ãƒ¦ãƒ¼ã‚¶åã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
   - åˆ©ç”¨è¦ç´„ã‚„ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹

3. **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆç”»é¢**
   - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã®ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

4. **é€€ä¼šç”»é¢**
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã®ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - å‰Šé™¤æ‰‹ç¶šãã®ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†ç¢ºèªï¼‰

### å€‹äººé–¢é€£ç”»é¢
1. **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢**
   - ãƒ¦ãƒ¼ã‚¶åã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸã®è¡¨ç¤ºã¨ç·¨é›†
   - æŠ•ç¨¿ã—ãŸã‚¿ã‚¹ã‚¯ã¨åˆ¶ä½œç‰©ã®ä¸€è¦§è¡¨ç¤º
   - ã„ã„ã­ã—ãŸä»–äººã®åˆ¶ä½œç‰©ã®è¡¨ç¤º

2. **é€šçŸ¥ç”»é¢**
   - æ–°ç€é€šçŸ¥ã®ä¸€è¦§è¡¨ç¤º
   - é€šçŸ¥ã®ã‚¯ãƒªã‚¢æ©Ÿèƒ½

3. **ã‚¿ã‚¹ã‚¯æŠ•ç¨¿ç”»é¢**
   - ã‚¿ã‚¹ã‚¯ã®ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜Žã€æœŸé™ã€å„ªå…ˆåº¦ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
   - ãƒ•ã‚¡ã‚¤ãƒ«ã®æ·»ä»˜ã‚ªãƒ—ã‚·ãƒ§ãƒ³

4. **åˆ¶ä½œç‰©æŠ•ç¨¿ç”»é¢**
   - åˆ¶ä½œç‰©ã®ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜Žã€ã‚«ãƒ†ã‚´ãƒªã€ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒ 
   - ã‚¿ã‚°ã®è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### å…±æœ‰ç”¨ç”»é¢
1. **ãƒ›ãƒ¼ãƒ ç”»é¢**
   - è‡ªåˆ†ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¸ã®ãƒªãƒ³ã‚¯
   - ä»–äººã®æŠ•ç¨¿ã—ãŸåˆ¶ä½œç‰©ã®ä¸€è¦§è¡¨ç¤º
   - åˆ¶ä½œç‰©ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©³ç´°ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã«ãƒ›ãƒ¼ãƒ ã¨é€šçŸ¥ç”»é¢ã¸ã®ãƒªãƒ³ã‚¯

2. **äººã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢**
   - ãƒ¦ãƒ¼ã‚¶åã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸã®è¡¨ç¤º
   - ãã®ãƒ¦ãƒ¼ã‚¶ãŒæŠ•ç¨¿ã—ãŸåˆ¶ä½œç‰©ã®ä¸€è¦§è¡¨ç¤º

### ä¸»è¦æ©Ÿèƒ½
1. **ãƒ­ã‚°ã‚¤ãƒ³ç®¡ç†**
   - ãƒ­ã‚°ã‚¤ãƒ³ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†
   - ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ç®¡ç†

2. **ã‚¿ã‚¹ã‚¯ç®¡ç†**
   - ã‚¿ã‚¹ã‚¯ã®ä½œæˆã€ç·¨é›†ã€å‰Šé™¤æ©Ÿèƒ½
   - ã‚¿ã‚¹ã‚¯ã®ãƒªã‚¹ãƒˆè¡¨ç¤ºã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆæœŸé™ã€å„ªå…ˆåº¦ãªã©ï¼‰

3. **ã‚¿ã‚¹ã‚¯ã®æ‰‹é †ç”Ÿæˆ**
   - ãƒ¦ãƒ¼ã‚¶ãŒè¨­å®šã—ãŸç›®æ¨™ã«åŸºã¥ã„ãŸã‚¿ã‚¹ã‚¯ã®è‡ªå‹•ç”Ÿæˆã¾ãŸã¯æ‰‹å‹•è¨­å®š

4. **æˆæžœç‰©ç®¡ç†**
   - ã‚¿ã‚¹ã‚¯é”æˆæ™‚ã®æˆæžœç‰©ï¼ˆç”»åƒã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ï¼‰ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
   - ã‚¿ã‚¹ã‚¯ã¨ã®é€£æºæ©Ÿèƒ½

5. **é€²æ—å…±æœ‰**
   - ä»–ã®ãƒ¦ãƒ¼ã‚¶ã¨ã®ã‚¿ã‚¹ã‚¯ã®é€²æ—å…±æœ‰
   - æˆæžœç‰©ã«å¯¾ã™ã‚‹ã„ã„ã­ã‚„ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½